Технический промпт для валидации имени пользователя (username):

Длина:

Минимум: 3 символа.

Максимум: 32 символа (рекомендуется оставить возможность конфигурации).

Допустимые символы:

Латинские буквы A–Z, a–z.

Цифры 0–9.

Символы подчёркивания _ и дефис -.

Регулярное выражение для проверки:

^[A-Za-z0-9_-]{3,32}$


Уникальность:

Проверять наличие имени пользователя в базе данных.

При совпадении — выдавать ошибку “Имя пользователя уже занято”.

Исключение специальных символов:

Запрещены пробелы, точки, слэши, кавычки и любые другие символы вне разрешённого диапазона.

Проверка выполняется тем же регулярным выражением.

Регистрозависимость:

Определить поведение системы:

Если логины регистронезависимые, то при сохранении приводить к нижнему регистру (username.toLowerCase()), а поиск в базе вести по приведённому значению.

Если регистрозависимые, то хранить как есть и проверять точное совпадение.

Рекомендованная логика обработки:

Проверить длину.

Проверить соответствие регулярному выражению.

Применить выбранную политику регистра (toLowerCase или нет).

Проверить уникальность в базе.

Вернуть результат: валидно / невалидно с причиной.